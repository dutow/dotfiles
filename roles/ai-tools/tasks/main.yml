---
- name: Check if claude is installed
  ansible.builtin.command: which claude
  register: claude_check
  changed_when: false
  failed_when: false

- name: Install Claude Code
  ansible.builtin.shell: curl -fsSL https://claude.ai/install.sh | bash
  when: claude_check.rc != 0

- name: Check if codex is installed
  ansible.builtin.command: which codex
  register: codex_check
  changed_when: false
  failed_when: false

- name: Install ChatGPT Codex
  ansible.builtin.command: npm install -g @openai/codex
  become: true
  when: codex_check.rc != 0
