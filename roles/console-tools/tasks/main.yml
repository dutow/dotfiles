---
- name: Load distro-specific package names
  ansible.builtin.include_vars: "{{ dotfiles_distro }}.yml"

- name: Install console tools
  ansible.builtin.package:
    name: "{{ console_tools_packages }}"
    state: present
  become: true

- name: Check if task (go-task) is installed
  ansible.builtin.command: which task
  register: task_check
  changed_when: false
  failed_when: false

- name: Install go-task
  ansible.builtin.shell: >
    sh -c "$(curl --location https://taskfile.dev/install.sh)" -- -d -b ~/.local/bin
  when: task_check.rc != 0
